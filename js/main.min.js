$(document).ready(function () {
	new Swiper(".hotel-slider", {
		keyboard: { enabled: !0, onlyInViewport: !1 },
		loop: !0,
		navigation: {
			nextEl: ".hotel-slider__button--next",
			prevEl: ".hotel-slider__button--prev",
		},
		effect: "coverflow",
	}),
		new Swiper(".reviews-slider", {
			keyboard: { enabled: !0, onlyInViewport: !1 },
			loop: !0,
			navigation: {
				nextEl: ".reviews-slider__button--next",
				prevEl: ".reviews-slider__button--prev",
			},
		});
	$(".newsletter").parallax({ imageSrc: "./img/newsletter-bg.jpg" }),
		$(".menu-button").on("click", function () {
			$(".navbar-bottom").toggleClass("navbar-bottom--visible");
		}),
		ymaps.ready(function () {
			var e = new ymaps.Map(
				"map",
				{ center: [32.089666, 34.77077], zoom: 15 },
				{ searchControlProvider: "yandex#search" },
			);
			e.behaviors.disable("scrollZoom"),
				(myGeoObject = new ymaps.GeoObject({})),
				e.geoObjects.add(myGeoObject).add(
					new ymaps.Placemark(
						[32.089666, 34.77077],
						{
							balloonContentHeader: "Hilton Hotel",
							balloonContentBody:
								"Hilton Hotel Элитный пляжный отель с рестораном",
							balloonContentFooter:
								"Официальный сайт: <a href='https://web-coup.ru/homeworks/tour-plan/'>https://web-coup.ru/homeworks/tour-plan/</a>",
							hintContent: "Hilton Hotel",
						},
						{ preset: "islands#dotIcon", iconColor: "#ff2b2b" },
					),
				);
		});
	var e = $("[data-toggle=modal]"),
		o = $(".modal__close");
	e.on("click", function () {
		a.addClass("modal__overlay--visible"), l.addClass("modal__dialog--visible");
	}),
		o.on("click", function (e) {
			e.preventDefault(),
				a.removeClass("modal__overlay--visible"),
				l.removeClass("modal__dialog--visible");
		});
	var a = $(".modal__overlay"),
		l = $(".modal__dialog");
	$(document).on("keydown", function (e) {
		27 === e.which &&
			l.hasClass("modal__dialog--visible") &&
			(a.removeClass("modal__overlay--visible"),
			l.removeClass("modal__dialog--visible"));
	}),
		$(".form").each(function () {
			$(this).validate({
				errorClass: "invalid",
				messages: {
					name: {
						required: "Please specify your name",
						minlength: "Name must be at least 2 letters long",
					},
					phone: {
						required: "We need your phone number to contact you",
						minlength: "Your phone must be 11 digits long",
					},
					user_email: {
						required: "We need your email address to contact you",
						email:
							"Your email address must be in the format of name@domain.com",
					},
				},
			});
		}),
		$(".input_phone").mask("+7 (000) 000-00-00"),
		AOS.init();
});
